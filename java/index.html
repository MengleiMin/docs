
<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
      
      
      
      <link rel="shortcut icon" href="../assets/images/favicon.png">
      <meta name="generator" content="mkdocs-1.1.2, mkdocs-material-6.2.3">
    
    
      
        <title>Java - Molly's notes</title>
      
    
    
      <link rel="stylesheet" href="../assets/stylesheets/main.3b61ea93.min.css">
      
        
        <link rel="stylesheet" href="../assets/stylesheets/palette.39b8e14a.min.css">
        
      
    
    
    
      
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,400,400i,700%7CRoboto+Mono&display=fallback">
        <style>body,input{font-family:"Roboto",-apple-system,BlinkMacSystemFont,Helvetica,Arial,sans-serif}code,kbd,pre{font-family:"Roboto Mono",SFMono-Regular,Consolas,Menlo,monospace}</style>
      
    
    
    
    
      
    
    
  </head>
  
  
    
    
    
    
    
    <body dir="ltr" data-md-color-scheme="" data-md-color-primary="none" data-md-color-accent="none">
      
  
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#optional" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
      

<header class="md-header" data-md-component="header">
  <nav class="md-header-nav md-grid" aria-label="Header">
    <a href=".." title="Molly&#39;s notes" class="md-header-nav__button md-logo" aria-label="Molly's notes">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 003-3 3 3 0 00-3-3 3 3 0 00-3 3 3 3 0 003 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54z"/></svg>

    </a>
    <label class="md-header-nav__button md-icon" for="__drawer">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3V6m0 5h18v2H3v-2m0 5h18v2H3v-2z"/></svg>
    </label>
    <div class="md-header-nav__title" data-md-component="header-title">
      <div class="md-header-nav__ellipsis">
        <div class="md-header-nav__topic">
          <span class="md-ellipsis">
            Molly's notes
          </span>
        </div>
        <div class="md-header-nav__topic">
          <span class="md-ellipsis">
            
              Java
            
          </span>
        </div>
      </div>
    </div>
    
      <label class="md-header-nav__button md-icon" for="__search">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0116 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 019.5 16 6.5 6.5 0 013 9.5 6.5 6.5 0 019.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5z"/></svg>
      </label>
      
<div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" data-md-state="active" required>
      <label class="md-search__icon md-icon" for="__search">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0116 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 019.5 16 6.5 6.5 0 013 9.5 6.5 6.5 0 019.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5z"/></svg>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12z"/></svg>
      </label>
      <button type="reset" class="md-search__icon md-icon" aria-label="Clear" data-md-component="search-reset" tabindex="-1">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41z"/></svg>
      </button>
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
    
    
  </nav>
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    




<nav class="md-nav md-nav--primary" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href=".." title="Molly&#39;s notes" class="md-nav__button md-logo" aria-label="Molly's notes">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 003-3 3 3 0 00-3-3 3 3 0 00-3 3 3 3 0 003 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54z"/></svg>

    </a>
    Molly's notes
  </label>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
      



  <li class="md-nav__item">
    <a href=".." class="md-nav__link">
      Home
    </a>
  </li>

    
      
      
      



  <li class="md-nav__item">
    <a href="../git/" class="md-nav__link">
      Git
    </a>
  </li>

    
      
      
      



  <li class="md-nav__item">
    <a href="../spring-boot/" class="md-nav__link">
      Spring Boot
    </a>
  </li>

    
      
      
      


  


  <li class="md-nav__item md-nav__item--active">
    
    <input class="md-nav__toggle md-toggle" data-md-toggle="toc" type="checkbox" id="__toc">
    
      
    
    
    <a href="./" class="md-nav__link md-nav__link--active">
      Java
    </a>
    
  </li>

    
      
      
      



  <li class="md-nav__item">
    <a href="../kafka.md" class="md-nav__link">
      Kafka
    </a>
  </li>

    
      
      
      



  
  <li class="md-nav__item md-nav__item--nested">
    
    
      <input class="md-nav__toggle md-toggle" data-md-toggle="nav-6" type="checkbox" id="nav-6" >
    
    <label class="md-nav__link" for="nav-6">
      Tools
      <span class="md-nav__icon md-icon"></span>
    </label>
    <nav class="md-nav" aria-label="Tools" data-md-level="1">
      <label class="md-nav__title" for="nav-6">
        <span class="md-nav__icon md-icon"></span>
        Tools
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          



  <li class="md-nav__item">
    <a href="../intellij/" class="md-nav__link">
      Intellij
    </a>
  </li>

        
          
          
          



  <li class="md-nav__item">
    <a href="../markdown/" class="md-nav__link">
      Markdown
    </a>
  </li>

        
          
          
          



  <li class="md-nav__item">
    <a href="../photoshop/" class="md-nav__link">
      Photoshop
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

    
      
      
      



  
  <li class="md-nav__item md-nav__item--nested">
    
    
      <input class="md-nav__toggle md-toggle" data-md-toggle="nav-7" type="checkbox" id="nav-7" >
    
    <label class="md-nav__link" for="nav-7">
      Other
      <span class="md-nav__icon md-icon"></span>
    </label>
    <nav class="md-nav" aria-label="Other" data-md-level="1">
      <label class="md-nav__title" for="nav-7">
        <span class="md-nav__icon md-icon"></span>
        Other
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          



  <li class="md-nav__item">
    <a href="../english/" class="md-nav__link">
      English
    </a>
  </li>

        
          
          
          



  <li class="md-nav__item">
    <a href="../swedish/" class="md-nav__link">
      Swedish
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    
<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
    
  
  
</nav>
                  </div>
                </div>
              </div>
            
          
          <div class="md-content">
            <article class="md-content__inner md-typeset">
              
                
                
                <h2 id="optional">Optional</h2>
<ul>
<li><code>getData(input).isPresent()</code>   </li>
<li>
<p><code>getData(input).isEmpty()</code> </p>
</li>
<li>
<pre><code>/* Return non-negative value, and when result is null, return 0L */

private long getA(Optional&lt;QueryResponse&gt; response) {
        return response
                .map(r -&gt; r.b)
                .map(b -&gt; Math.max(0, b)
                .orElse(0L);
}
</code></pre>
</li>
<li>
<pre><code>/* Return non-negative value, when result is null, return result/null */

private long getA(Optional&lt;QueryResponse&gt; response) {
        return response
                .map(r -&gt; r.b)
                .map(b -&gt; Math.max(0, b)
                .get();
}
</code></pre>
</li>
<li>
<pre><code> /* Return the result which A.getB() &gt;= b and sort it out as ascending order by C */

private long getC(Object A) {
    return A.stream()
            .filter(A -&gt; A.getB() &gt;= b)
            .max(Comparator.comparing(A::getC()))
            .map(A::getC())
            .orElse(0L);
</code></pre>
</li>
<li>
<pre><code>Boolean/boolean result = (response) -&gt; Optional.ofNullable(response)
                         .map(r -&gt; r.b)
                         .map(b -&gt; b.c)
                         .isPresent())
</code></pre>
</li>
<li>
<pre><code>/* When several functions have common parts, can extract the common method (parseValueFromA) for them */

private Long parseValueFromA(Optional&lt;QueryResponse&gt; response,Function&lt;QueryResponse, Long&gt; function) {
    return response
        .map(function)
        .orElse(null);
}

Long B = parseValueFromA(response, QueryResponse -&gt; QueryResponse.B);
Long C = parseValueFromA(response, QueryResponse -&gt; QueryResponse.C);
</code></pre>
</li>
</ul>
<hr />
<h2 id="sets-list">Sets / List</h2>
<ul>
<li>Implement <code>containsAny</code> for sets.  <ul>
<li><code>Sets.intersection(set1, set2).isEmpty()</code>   </li>
<li><code>CollectionUtils.containsAny(someCollection1, someCollection2)</code></li>
<li><code>setA.stream().anyMatch(setB::contains)</code></li>
</ul>
</li>
<li>
<p>Implement <code>anyMatch</code> for stream.</p>
<ul>
<li><code>a.stream().anyMatch(s -&gt; b.trim().equalsIgnoreCase(s))</code></li>
</ul>
</li>
<li>
<p>Converter to a set  </p>
<pre><code>Set&lt;String&gt; orderedItems = orderedItemsSet.stream()
    .map(str -&gt; str.replaceAll("\\s",""))
    .map(String::toLowerCase)
    .collect(Collectors.toSet())
</code></pre>
</li>
<li>
<p>Return empty list/value</p>
<ul>
<li>
<p>return empty list     </p>
<pre><code>var orderLines = Optional.ofNullable(request.getStudents())
        .map(Students::getStudents)
        .orElse(Collections.emptyList())
</code></pre>
</li>
<li>
<p>Return empty value</p>
<pre><code>var student = Optional.ofNullable(request.getStudent()).orElse(null)
</code></pre>
</li>
</ul>
</li>
</ul>
<hr />
<h2 id="validator">Validator</h2>
<ul>
<li>
<p>Validate configuration of YAML file   </p>
<pre><code>xxxx-config :
settings :
    normal :
    - level1: 175_00
        reward: 510
    - level2: 350_00
        reward: 530
    high :
    - level1: 175_00
        reward: 550
    - level2: 350_00
        reward: 580
userMppingList :
    DEFAULT   : normal  #Default is mandatory to be set
    USER12345 : high    
========================================================================= 
@Override
public boolean supports(@NotNull Class&lt;?&gt; clazz) {
    return XxxxConfiguration.class.isAssignableFrom(clazz);
}  
@Override
public void validate(@NotNull Object target, @NotNull Errors errors) {
    XxxxConfiguration config = (XxxxConfiguration) target;
    if (isNull(config.getSettings())) {
        errors.rejectValue("settings", "settings", "Setting is null");
    } else if (getUserMppingList() == null) {
        errors.rejectValue("userMppingList", "userMppingList", "userMppingList is null");
    } else if (!config.getSetting().containsKey(getUserMppingList().get(DEFAULT))) {
        errors.rejectValue("settings", "settings", "Default setting not defined");
    }
}
</code></pre>
</li>
<li>
<p>Assert </p>
<blockquote>
<p>Java also provides a second syntax for assertions that takes a string, which will be used to construct the AssertionError if one is thrown:  </p>
</blockquote>
<pre><code>public void setup() {
    Connection conn = getConnection();
    // or assert conn != null;
    assert conn != null : "Connection is null";
}
</code></pre>
</li>
</ul>
<hr />
<h2 id="exceptions">Exceptions</h2>
<ul>
<li>message throw check<pre><code>def ex = thrown(IllegalArgumentException)
ex.message == "(java.lang.IllegalArgumentException: XXX)
</code></pre>
</li>
</ul>
<hr />
<h2 id="data-fetching-handling">Data fetching handling</h2>
<ul>
<li>
<p>Solution 1</p>
<p><code>A.getB().getC()</code> </p>
</li>
<li>
<p>Solution 2</p>
<pre><code>Optional.ofNullable(A) 
    .map(A::getB())
    .map(B::getC())
    .orElseThrow(() -&gt; new RuntimeException("C is not present!"));
</code></pre>
</li>
</ul>
<hr />
<h2 id="regexp-restrction-annotation">Regexp/ restrction annotation</h2>
<h3 id="integer">Integer</h3>
<p><code>@Positive</code> and <code>@PositiveOrZero</code><br />
<code>@Min(100)</code> and  <code>@Max(100)</code><br />
<code>@Range(min = 1000, max = 3000)</code></p>
<h3 id="string">String</h3>
<p><code>@NotEmpty</code> // <em>String is not empty</em><br />
<code>@NotNull</code> // <em>String is not Null</em><br />
<code>@Size(max = 100)</code>  // <em>length of String</em><br />
<code>@Pattern(regexp = "(^[1-9]$)|(^0[1-9]|1[0-2]$)")</code>  // <em>1 - 12, include 01, 02</em>
<code>@Pattern(regexp = "^\d{4}$")</code> // <em>Four digits</em><br />
<code>@Pattern(regexp = "[A-Z]{3}")</code> // <em>The three character ISO 4217 currency code</em></p>
<h3 id="localdate">LocalDate</h3>
<p><code>@JsonFormat(shape = JsonFormat.Shape.STRING, pattern = "yyyy-MM-dd")</code></p>
<hr />
<h2 id="annotations">Annotations</h2>
<p><code>@Data</code><br />
<code>@EqualsAndHashCode(callSuper = true)</code> </p>
<blockquote>
<p>@EqualsAndHashCode is included in @Data, and the default value of callSuper is false.</p>
</blockquote>
<p><code>@AvroIgnore</code></p>
<p><code>@EnableAutoConfiguration</code></p>
<blockquote>
<p>Enable auto-configuration of the Spring Application Context, attempting to guess and configure beans that you are likely to need.<br />
When using @SpringBootApplication, the auto-configuration of the context is automatically enabled and adding this annotation has therefore no additional effect.<br />
It is generally recommended that you place @EnableAutoConfiguration (if you're not using @SpringBootApplication) in a root package so that all sub-packages and classes can be searched.</p>
</blockquote>
<hr />
<h2 id="methods">Methods</h2>
<ul>
<li>
<p><code>Boolean.equals(Object obj)</code></p>
<blockquote>
<p>Returns true if and only if the argument <strong>is not null</strong> and is a Boolean object that represents the same boolean value as this object.</p>
</blockquote>
</li>
<li>
<p><code>Objects.isNull(Object A)</code>  </p>
<blockquote>
<p>This method is used to check if object is null or not, it doesn't check empty.</p>
</blockquote>
</li>
<li>
<p><code>ObjectUtils.allNotNull(Object A, Object B,....)</code></p>
<blockquote>
<p>This method is used to check if all object are not null, it doesn't check empty. </p>
</blockquote>
</li>
<li>
<p><code>StringUtils.isEmpty()</code></p>
<blockquote>
<p>This method is used to check if a String object is null or <strong>empty</strong>. </p>
</blockquote>
</li>
<li>
<p>String <code>equals()</code> always return <code>boolean</code> value</p>
<blockquote>
<p>This method compares this string to the specified object. The result is true if and only if the argument is not null and is a String object that represents the same sequence of characters as this object. Otherwise is false.  </p>
</blockquote>
<p><code>booleanValue = Str1.equals(Str2)</code></p>
</li>
<li>
<p><code>org.springframework.util.CollectionUtils.isEmpty(Object A)</code>    </p>
<blockquote>
<p>This method is used to check if a object is null or <strong>empty</strong>.</p>
</blockquote>
</li>
<li>
<p><code>LocalDate.now().format(DateTimeFormatter.ofPattern("dd/MM/yyyy"))</code></p>
<blockquote>
<p>To format the date.</p>
</blockquote>
</li>
<li>
<p><code>Long.MAX_VALUE</code></p>
<blockquote>
<p>Get the maximum value of Long.</p>
</blockquote>
</li>
</ul>
<hr />
<h2 id="concepts">Concepts</h2>
<h3 id="final">final</h3>
<blockquote>
<p>A final variable can only be initialized once, it always contains the same value. If a final variable holds a reference to an object, then the state of the object may be changed by operations on the object, but the variable will always refer to the same object.</p>
</blockquote>
<ul>
<li>
<pre><code>// A final class cannot be subclassed.

public final class MyFinalClass {...}
public class ThisIsWrong extends MyFinalClass {...} // forbidden
</code></pre>
</li>
<li>
<pre><code>// A final method cannot be overridden or hidden by subclasses

public class Base
{
    public       void m1() {...}
    public final void m2() {...}

    public static       void m3() {...}
    public static final void m4() {...}
}

public class Derived extends Base
{
    public void m1() {...}  // OK, overriding Base#m1()
    public void m2() {...}  // forbidden

    public static void m3() {...}  // OK, hiding Base#m3()
    public static void m4() {...}  // forbidden
}
</code></pre>
</li>
</ul>
<h3 id="static">static</h3>
<blockquote>
<p>In the Java programming language, the keyword static indicates that the particular member belongs to a type itself, rather than to an instance of that type.<br />
This means that only one instance of that static member is created which is shared across all instances of the class.<br />
It doesn't matter how many times we initialize a class; there will always be only one copy of static field belonging to it. The value of this static field will be shared across all object of either same of any different class.</p>
</blockquote>
<h3 id="race-condition">Race condition</h3>
<blockquote>
<p>A race condition occurs when two or more threads can access shared data and they try to change it at the same time. Because the thread scheduling algorithm can swap between threads at any time, you don't know the order in which the threads will attempt to access the shared data. Therefore, the result of the change in data is dependent on the thread scheduling algorithm, i.e. both threads are "racing" to access/change the data.</p>
</blockquote>
<pre><code>if (x == 5) // The "Check"
{
    y = x * 2; // The "Act"

    // If another thread changed x in between "if (x == 5)" and "y = x * 2" above,
    // y will not be equal to 10.
}
</code></pre>
<hr />
<h2 id="tips-usuage">Tips / Usuage</h2>
<h3 id="mapper">Mapper</h3>
<ul>
<li>TreeMap  </li>
<li>By default, TreeMap sorts all its entries according to their natural ordering of <code>key</code>. For an integer, this would mean ascending order and for strings, alphabetical order.
<code>TreeMap&lt;String, String&gt; map = new TreeMap&lt;&gt;()</code></li>
<li>If we're not satisfied with the natural ordering of TreeMap, we can also define our own rule for ordering by means of a comparator during construction of a tree map.<br />
<code>TreeMap&lt;Integer, String&gt; map = new TreeMap&lt;&gt;(Comparator.reverseOrder())</code></li>
</ul>
<h3 id="objectmapper">ObjectMapper</h3>
<blockquote>
<p>Constructing an ObjectMapper instance is a relatively expensive operation, so it's recommended to create one object and reuse it like below. </p>
</blockquote>
<p><code>private static final ObjectMapper jsonMapper = new ObjectMapper()</code></p>
<ul>
<li>
<p>Log values as a JSON</p>
<pre><code>log.info(
    "Log info",
    value("log_name", log_name),
    value("log_type", log_type),
    value("log_variables", jsonMapper.writeValueAsString(localVariable))
);
</code></pre>
</li>
<li>
<p>Two ways to set PropertyNamingStrategy be SNAKE_CASE</p>
<pre><code>spring:
    jackson:
        property-naming-strategy: SNAKE_CASE  
==========================================================
@Configuration
public class JacksonConfiguration {

    @Bean
    public Jackson2ObjectMapperBuilder jackson2ObjectMapperBuilder() {
        return new Jackson2ObjectMapperBuilder()
                .propertyNamingStrategy(PropertyNamingStrategy.SNAKE_CASE);
        // insert other configurations
    }

}
</code></pre>
</li>
</ul>
<h3 id="consumer-supplier-predicate-function">Consumer / Supplier / Predicate / Function</h3>
<ul>
<li>Predictions<blockquote>
<p>A Predicate interface represents a boolean-valued-function of an argument. This is mainly used to filter data from a Java Stream. The filter method of a stream accepts a predicate to filter the data and return a new stream satisfying the predicate. A predicate has a test() method which accepts an argument and returns a boolean value.        </p>
</blockquote>
<pre><code>@Test
public void testPredicateAndComposition(){
    List&lt;String&gt; names = Arrays.asList("John", "Smith", "Samueal", "Catley", "Sie");
    Predicate&lt;String&gt; startPredicate = str -&gt; str.startsWith("S");
    Predicate&lt;String&gt; lengthPredicate = str -&gt; str.length() &gt;= 5;
    names.stream().filter(startPredicate.and(lengthPredicate)).forEach(System.out::println);
}

===================================================

var a = getResponse(StringQueryResponse.class, isBookQueryResponse())
    .map(response -&gt; response.value);

public static Predicate&lt;StringQueryResponse&gt; isBookQueryResponse() {
    return response -&gt; response.queryName.equals(isBookQuery.QUERY_NAME);
}
</code></pre>
</li>
</ul>
<p>&lt;&lt;&lt;&lt;&lt;&lt;&lt; HEAD
- Consumer  </p>
<blockquote>
<p>A Consumer is a functional interface that accepts a single input and returns no output. Consumer interface has two methods:</p>
</blockquote>
<pre><code>    void accept(T t);  
    default Consumer&lt;T&gt; andThen(Consumer&lt;? super T&gt; after);
</code></pre>
<blockquote>
<p>In the following example, we demonstrate the usage of composing multiple consumer implementations to make a chain of consumers. In this specific example, we have created two consumers; one converts a list of items into upper case Strings and the other one prints the uppercased string.</p>
</blockquote>
<pre><code>    @Test
    public void whenNamesPresentUseBothConsumer(){
        List&lt;String&gt; cities = Arrays.asList("Sydney", "Dhaka", "New York", "London");

        Consumer&lt;List&lt;String&gt;&gt; upperCaseConsumer = list -&gt; {
            for(int i=0; i&lt; list.size(); i++){
                list.set(i, list.get(i).toUpperCase());
            }
        };
        Consumer&lt;List&lt;String&gt;&gt; printConsumer = list -&gt; list.stream().forEach(System.out::println);

        upperCaseConsumer.andThen(printConsumer).accept(cities);
    }
</code></pre>
<blockquote>
<p>Consumer interface has specific implementation types for integer, double and long types with IntConsumer, DoubleConsumer, and LongConsumer as shown below:  </p>
</blockquote>
<pre><code>    IntConsumer void accept(int x);
    DoubleConsumer void accept(double x);
    LongConsumer void accept(long x);
</code></pre>
<ul>
<li>
<p>Supplier</p>
<blockquote>
<p>A Supplier is a simple interface which indicates that this implementation is a supplier of results. The supplier has only one method get() and does not have any other default and static methods.</p>
</blockquote>
<pre><code>BookCategory category = getDefaultOnException(
    () -&gt; BookCategory.valueOf(favoriteBook.category().name()), BookCategory.OTHER);

private static &lt;R&gt; R getDefaultOnException(final Supplier&lt;R&gt; supplier, final R defaultValue) {
    try {
        return supplier.get();
    } catch (final IllegalArgumentException | NullPointerException e) {
        return defaultValue;
    }
}
</code></pre>
</li>
<li>
<p>Function</p>
<blockquote>
<p>A Function interface is more of a generic one that takes one argument and produces a result. This has a Single Abstract Method (SAM) apply which accepts an argument of a type T and produces a result of type R. One of the common use cases of this interface is Stream.map method. This is shown as below:  </p>
</blockquote>
<pre><code>@Test
public void testFunctions(){
    List&lt;String&gt; names = Arrays.asList("Smith", "Gourav", "Heather", "John", "Catania");
    Function&lt;String, Integer&gt; nameMappingFunction = String::length;
    List&lt;Integer&gt; nameLength = names.stream().map(nameMappingFunction).collect(Collectors.toList());
    System.out.println(nameLength);
}
</code></pre>
</li>
</ul>
<h1 id="merged-common-ancestors">||||||| merged common ancestors</h1>
<ul>
<li>Consumer  <blockquote>
<p>A Consumer is a functional interface that accepts a single input and returns no output. Consumer interface has two methods:</p>
</blockquote>
<pre><code>void accept(T t);  
default Consumer&lt;T&gt; andThen(Consumer&lt;? super T&gt; after);
</code></pre>
</li>
</ul>
<blockquote>
<p>In the following example, we demonstrate the usage of composing multiple consumer implementations to make a chain of consumers. In this specific example, we have created two consumers; one converts a list of items into upper case Strings and the other one prints the uppercased string.</p>
</blockquote>
<pre><code>    @Test
    public void whenNamesPresentUseBothConsumer(){
        List&lt;String&gt; cities = Arrays.asList("Sydney", "Dhaka", "New York", "London");

        Consumer&lt;List&lt;String&gt;&gt; upperCaseConsumer = list -&gt; {
            for(int i=0; i&lt; list.size(); i++){
                list.set(i, list.get(i).toUpperCase());
            }
        };
        Consumer&lt;List&lt;String&gt;&gt; printConsumer = list -&gt; list.stream().forEach(System.out::println);

        upperCaseConsumer.andThen(printConsumer).accept(cities);
    }
</code></pre>
<blockquote>
<p>Consumer interface has specific implementation types for integer, double and long types with IntConsumer, DoubleConsumer, and LongConsumer as shown below:  </p>
</blockquote>
<pre><code>    IntConsumer void accept(int x);
    DoubleConsumer void accept(double x);
    LongConsumer void accept(long x);
</code></pre>
<ul>
<li>
<p>Supplier</p>
<blockquote>
<p>A Supplier is a simple interface which indicates that this implementation is a supplier of results. The supplier has only one method get() and does not have any other default and static methods.</p>
</blockquote>
<pre><code>BookCategory category = getDefaultOnException(
    () -&gt; BookCategory.valueOf(favoriteBook.category().name()), BookCategory.OTHER);

private static &lt;R&gt; R getDefaultOnException(final Supplier&lt;R&gt; supplier, final R defaultValue) {
    try {
        return supplier.get();
    } catch (final IllegalArgumentException | NullPointerException e) {
        return defaultValue;
    }
}
</code></pre>
</li>
<li>
<p>Function</p>
</li>
</ul>
<blockquote>
<blockquote>
<blockquote>
<blockquote>
<blockquote>
<blockquote>
<blockquote>
<p>origin</p>
</blockquote>
</blockquote>
</blockquote>
</blockquote>
</blockquote>
</blockquote>
</blockquote>
<h3 id="condition">Condition</h3>
<ul>
<li>if - else   </li>
</ul>
<pre><code>if(x==y) {
    return a;
} else {
    return b 
}  
</code></pre>
<p>can be simpified as:<br />
<code>x == y ? a : b</code> </p>
<ul>
<li>if - else if - else</li>
</ul>
<pre><code>If the conditions are not based on the same thing, for example:  
if (condition A) {
    ...
}
if (condition B) {
    ...
} 
</code></pre>
<pre><code>If the conditions is based on the same thing, then:  
if (a &gt; 1) {
    ...
} else if (a == 0) {
    ...
} else {
    ...
}
</code></pre>
<ul>
<li>if-else VS switch </li>
</ul>
<blockquote>
<p>For a <strong>switch</strong> statement, the <strong>default</strong> clause is good for error handling and testing (even it is not necessary). If it doesn't need the default clause, then <strong>if - else</strong> can be considered instead.  </p>
</blockquote>
<ul>
<li>try... catch... finally
At a basic level <code>catch</code> and <code>finally</code> solve two related but different problems:  </li>
</ul>
<blockquote>
<p><code>catch</code> is used to handle a problem that was reported by code you called.<br />
<code>finally</code> is used to clean up data/resources that the current code created/modified, no matter if a problem/exception occurred or not</p>
<p>The <code>finally</code> block is used for code that must always run, whether an error condition (exception) occurred or not.<br />
Care should be taken in the <code>finally</code> block to ensure that it does not itself throw an exception. For example, be doubly sure to check all variables for null, etc.</p>
</blockquote>
<pre><code>try {
// Do processing
return result;
} finally {
// Release resources
}
</code></pre>
<ul>
<li>static final VS final static<blockquote>
<p><code>static final</code> and <code>final static</code> are the same. However <code>static final</code> is recommended by coding convention.</p>
</blockquote>
</li>
</ul>
<h2 id="other">Other</h2>
<h3 id="checked-unchecked-assignment">Checked / Unchecked assignment</h3>
<p>Checked assignment: <code>Map&lt;String, Object&gt; factMap = new HashMap&lt;&gt;()</code><br />
Unchecked assignment: <code>Map&lt;String, Object&gt; factMap = new HashMap()</code></p>
                
              
              
                


              
            </article>
          </div>
        </div>
      </main>
      
        
<footer class="md-footer">
  
    <div class="md-footer-nav">
      <nav class="md-footer-nav__inner md-grid" aria-label="Footer">
        
          <a href="../spring-boot/" class="md-footer-nav__link md-footer-nav__link--prev" rel="prev">
            <div class="md-footer-nav__button md-icon">
              <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12z"/></svg>
            </div>
            <div class="md-footer-nav__title">
              <div class="md-ellipsis">
                <span class="md-footer-nav__direction">
                  Previous
                </span>
                Spring Boot
              </div>
            </div>
          </a>
        
        
          <a href="../intellij/" class="md-footer-nav__link md-footer-nav__link--next" rel="next">
            <div class="md-footer-nav__title">
              <div class="md-ellipsis">
                <span class="md-footer-nav__direction">
                  Next
                </span>
                Intellij
              </div>
            </div>
            <div class="md-footer-nav__button md-icon">
              <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M4 11v2h12l-5.5 5.5 1.42 1.42L19.84 12l-7.92-7.92L10.5 5.5 16 11H4z"/></svg>
            </div>
          </a>
        
      </nav>
    </div>
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-footer-copyright">
        
        Made with
        <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
          Material for MkDocs
        </a>
      </div>
      
    </div>
  </div>
</footer>
      
    </div>
    
      <script src="../assets/javascripts/vendor.08c56446.min.js"></script>
      <script src="../assets/javascripts/bundle.6ced434e.min.js"></script><script id="__lang" type="application/json">{"clipboard.copy": "Copy to clipboard", "clipboard.copied": "Copied to clipboard", "search.config.lang": "en", "search.config.pipeline": "trimmer, stopWordFilter", "search.config.separator": "[\\s\\-]+", "search.placeholder": "Search", "search.result.placeholder": "Type to start searching", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.term.missing": "Missing"}</script>
      
      <script>
        app = initialize({
          base: "..",
          features: [],
          search: Object.assign({
            worker: "../assets/javascripts/worker/search.8c7e0a7e.min.js"
          }, typeof search !== "undefined" && search)
        })
      </script>
      
    
  </body>
</html>